<LoginScreen>:
    GridLayout:
        cols:1
        GridLayout:
            cols:1
            padding:20,20
            spacing:15,15
            Image:
                source: 'Images/logo.jpg'
                allow_stretch: True    
                size_hint_y:None 
                height:'100dp'      
            Label:
                markup:True
                text:"[b][font=times]Конвертировать любую валюту в рубли[/font][/b]"
                font_size:'30sp' 
                color:'#4DFF00'  
                font_name: 'Arial'       
            Label:
                markup:True
                text:"[i]Войти[/i]"
                font_size:'24sp'
            TextInput:
                id:username
                hint_text:"Введите юзернейм"
            TextInput:
                id:password
                hint_text:"Введите пароль"
                password:True
            RelativeLayout:
                Button:
                    text:"Войти"
                    on_press:root.log_in(root.ids.username.text,root.ids.password.text)
                    size_hint:0.2,0.7
                    pos_hint:{'center_x':0.5,'center_y':0.5}
                    background_color:(48/255,84/255,150/255,1)
            Label:
                id:log_err
                markup:True
                text:""
                color:'#FF0000'
        GridLayout:
            cols:2
            size_hint:0.2,0.2
            padding:20,20
            spacing:20,20
            Button:
                text:"Забыли пароль ?"
                on_press:root.forgot()
                background_color:1,1,1,0
                opacity:1 if self.state=='normal' else 0.5
                color:0.1,0.7,1,1
            Button:
                text:"Зарегистрироваться"
                on_press:root.sign_up()
                background_color:1,1,1,0
                opacity:1 if self.state=='normal' else 0.5
                color:0.1,0.7,1,1

<SignUpScreen>:
    GridLayout:
        cols:1
        GridLayout:
            cols:1
            spacing:20,20
            padding:20,20
            Label:
                markup:True
                text:"[b][font=times][u]Зарегистрироваться[/u][/font][/b]"
                font_size:'30sp'
                color:'#42D2FC'
            TextInput:
                id: fname
                hint_text:"Введите имя"
            TextInput:
                id: lname
                hint_text:"Введите фамилию"
            TextInput:
                id: username
                hint_text:"Введите юзернейм"
            TextInput:
                id: password
                hint_text:"Введите пароль"

        GridLayout:
            cols:2
            size_hint:0.3,0.3
            padding:20,20
            spacing:20,20  

            RelativeLayout:
                Button:
                    text:"<-- Назад"
                    on_press:root.back()
                    background_color:(48/255,84/255,150/255,1)
                    opacity:1 if self.state=='normal' else 0.5
                    size_hint:0.3,0.5
                    pos_hint:{'center_x':0.3,'center_y':0.5}

            RelativeLayout:
                Button:
                    text:"Продолжить -->"
                    on_press:root.add_user(root.ids.fname.text,root.ids.lname.text,root.ids.username.text,root.ids.password.text)
                    background_color:(48/255,84/255,150/255,1)
                    opacity:1 if self.state=='normal' else 0.5
                    size_hint:0.3,0.5
                    pos_hint:{'center_x':0.7,'center_y':0.5}

<SignUpSuccessful>:
    GridLayout:
        cols:1
        GridLayout:
            cols:1
            padding:20,20
            spacing:20,20
            Label:
                markup:True
                text:"[b][font=times][u]Вход выполнен успешно[/u][/font][/b]"
                font_size:'60sp'

            RelativeLayout:
                Button:
                    text:"<-- Вернуться на страницу входа"
                    on_press:root.back_to_login()
                    size_hint:0.5,0.2
                    font_size:'20sp'
                    pos_hint:{'center_x':0.5,'center_y':0.5}
                    background_color:(48/255,84/255,150/255,1)
<LoginSuccessful>:
    GridLayout:
        cols:1
        padding:20,20
        spacing:25,25
        GridLayout:
            cols:1
            RelativeLayout:
                Button:
                    text:'Выйти'
                    on_press:root.log_out()
                    size_hint: 0.2,0.5
                    pos_hint:{'center_x':0.95,'center_y':0.75}
                    background_color:1,1,1,0
                    opacity:1 if self.state=='normal' else 0.5
                    color:0.1,0.7,1,1
            Label:
                text:'Конвертировать валюту'
                font_size:'30sp'
                color:"#00C409"
        GridLayout:
            cols:2
            RelativeLayout:
                TextInput:
                    id:amount
                    hint_text:"Количество"
                    font_size:'21sp'
                    size_hint:0.6,0.3
                    pos_hint:{'center_x':0.4,'center_y':0.6}
            RelativeLayout:
                Spinner:
                    id:spinner
                    text:'Выберите валюту для конвертации'
                    font_size:'16sp'
                    values:['U.S. Dollar (USD)','European Euro (EUR)','British Pound (GBP)','Canadian Dollar (CAD)','Japanese Yen (JPY)','Swiss Franc (CHF)','Australian/New Zealand Dollar']
                    size_hint:0.6,0.3
                    pos_hint:{'center_x':0.6,'center_y':0.6}
                    #on_text:root.selected(spinner.text)

        GridLayout:
            cols:1
            RelativeLayout:
                Button:
                    text:'Конвертировать в рубли'
                    font_size:'15sp'
                    size_hint:0.2,0.5
                    pos_hint:{'center_x':0.5,'center_y':0.85}
                    background_color:(48/255,84/255,150/255,1)
                    on_press:root.convert(root.ids.amount.text,root.ids.spinner.text)
            Label:
                markup:True
                id:currency
                text:''
                color:'#9370DB'
                font_size:'30sp'

<ForgotPassword>:
    GridLayout:
        cols:1
        padding:20,20
        spacing:20,20
        Label:
            text:'Забыли свой пароль ? '
            font_size:'25sp'
        TextInput:
            id:get_uname
            hint_text:"Введите имя пользователя"
            font_size:'20sp'
        Label:
            id:findpassword
            font_size:'24sp'
            text:""
            color:'#42E0FC'
        RelativeLayout:
            Button:
                markup:True
                size_hint:0.3,0.4
                text:'[b]Восстановить пароль[/b]'
                on_press:root.find_password(root.ids.get_uname.text)
                background_color:(48/255,84/255,150/255,1)
                pos_hint:{'center_x':0.5,'center_y':0.5}
        RelativeLayout:
            Button:
                size_hint:0.3,0.4
                text:"Назад -->"
                on_press:root.back_to_login()
                background_color:(48/255,84/255,150/255,1)
                pos_hint:{'center_x':0.8,'center_y':0.5}

<RootWidget>:
    LoginScreen:
        name:"login_screen"

    SignUpScreen:
        name:"signup_screen"    

    SignUpSuccessful:
        name:'sign_up_success'            
    
    LoginSuccessful:
        name:'log_in_success'

    ForgotPassword:
        name:'forgot_password'
